:root { --bg:#0b1320; --card:#121b2b; --ink:#e6f6f2; --muted:#9bd5c9; --accent:#0F766E; --danger:#b91c1c; }
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background:linear-gradient(180deg,#0b1320,#0e1729); color:var(--ink);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
header{position:sticky;top:0;background:rgba(11,19,32,.8);backdrop-filter:blur(8px);padding:12px 16px;border-bottom:1px solid #1f2937}
h1{margin:0;font-size:1.15rem;letter-spacing:.3px}
.wrap{max-width:680px;margin:0 auto;padding:16px}
.card{background:var(--card);border:1px solid #1f2937;border-radius:16px;box-shadow:0 6px 24px rgba(0,0,0,.2)}
form{display:grid;gap:10px;padding:14px}
label{font-size:.9rem;color:var(--muted)}
.req{color:#fca5a5}
input[type="text"], input[type="date"]{
  width:100%;padding:12px 14px;border-radius:12px;border:1px solid #2a364d;background:#0b1320;color:var(--ink);outline:none;
}
input.invalid{border-color:var(--danger); box-shadow:0 0 0 2px rgba(185,28,28,.18) inset;}
button{appearance:none;border:0;border-radius:14px;padding:12px 14px;font-weight:600}
.btn-primary{background:var(--accent);color:white}
.btn-ghost{background:transparent;border:1px solid #2a364d;color:var(--ink)}
.btn-danger{background:var(--danger);color:white}
.row{display:flex;gap:10px}
.row > *{flex:1}
.lists{display:grid;gap:12px;padding:12px}
.list{padding:10px}
.list h3{margin:0 0 8px 0;font-size:1rem;color:var(--muted)}
ul{list-style:none;margin:0;padding:0;display:grid;gap:8px}
li{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:12px;border:1px solid #2a364d;border-radius:12px;background:#101a2a}
.meta{font-size:.8rem;color:#a3b8d1}
.name{font-weight:600}
.actions{display:flex; gap:8px}
.pill{font-size:.75rem;padding:4px 8px;border-radius:999px;border:1px solid #244a46;color:#9bd5c9}
footer{padding:16px;text-align:center;color:#8aa8c2;font-size:.85rem}
.install-banner{display:none; gap:8px; padding:10px 12px; border-top:1px solid #1f2937; background:#0f172a; position:sticky; bottom:0}
.install-banner.show{display:flex}
.install-banner button{flex:1}
.error{display:block; min-height:1.2em; color:#fca5a5; margin-top:4px;}

/* ——— iOS / móvil polish ——— */

/* Evita zoom de iOS al enfocar (inputs <16px) */
input, button { font-size: 16px; -webkit-text-size-adjust: 100%; }

/* Safe areas (notch) */
body{
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
}
header{
  padding-top: calc(12px + env(safe-area-inset-top));
}

/* Altura de viewport estable en móviles modernos */
@supports (min-height: 100dvh) {
  body { min-height: 100dvh; }
}

/* Arreglo del date picker en dark theme */
input[type="date"]{ -webkit-appearance: none; appearance: none; }
input[type="date"]::-webkit-date-and-time-value{ color: var(--ink); }
input[type="date"]::-webkit-calendar-picker-indicator{ filter: invert(1); opacity:.85; }

/* Botón no se sobrepone: en pantallas chicas se apila y ocupa ancho completo */
@media (max-width: 520px){
  .row{ flex-direction: column; align-items: stretch; }
  .row > *{ flex: 1 1 auto; }
  /* Sobrescribe tu inline style align-self:end del contenedor del botón */
  .row > div:last-child{ align-self: stretch !important; }
  .btn-primary{ width: 100%; }
}

/* En pantallas más anchas vuelve al layout horizontal */
@media (min-width: 521px){
  .row{ align-items: end; }
}
